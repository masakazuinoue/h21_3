- hosts: all
  user: vagrant
  become: yes
  vars:
    config_path: '/vagrant'
  tasks:
    - name: Set system's hostname.
      hostname:
        name: lb.example.local

    - name: Copying configuration file for network interface.
      template:
        src: "{{ config_path }}/network/ifcfg-enp0s8.j2"
        dest: /etc/sysconfig/network-scripts/ifcfg-enp0s8

    - name: Modify to default network interface.
      lineinfile:
        dest: /etc/sysconfig/network-scripts/ifcfg-enp0s3
        regexp: 'DEFROUTE="yes"'
        line: 'DEFROUTE="no"'